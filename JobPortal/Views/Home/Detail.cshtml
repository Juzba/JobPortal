@model JobPortal.Models.Job
@inject JobPortal.Code.Components _components;

@{
    ViewData["Title"] = "Detail";
}

<div style="max-width: 800px; margin: auto">
    <h1 class="text-warning text-center">Detail</h1>

    <div>
        <hr />
        <dl class="row">
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Title)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Title)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Company)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Company)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Description)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Description)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Location)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Location)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Salary)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Salary)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.DatePosted)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.DatePosted)
            </dd>
        </dl>
    </div>
    <div>
        @if(User.Identity?.IsAuthenticated == true)
        {
            <h2 class="mt-5" >Odpovědět na inzerát</h2>
            <p class="@(ViewBag.Error == null ? "text-success" : "text-danger") my-3">@(ViewBag.Error ?? ViewBag.Success)</p>
            <form asp-antiforgery="true" asp-controller="Home" asp-action="Detail" method="post">
                <div class="mb-3">
                    <textarea name="text" maxlength="800" class="form-control" id="exampleFormControlTextarea1" rows="3">@_components.RandomReply()</textarea>
                </div>
                <button class="btn btn-outline-warning" type="submit">Odeslat</button>
                <a class="btn btn-outline-info ms-3" asp-action="JobList">Back to List</a>
            </form>
        }
        else
        {
          <h4 class="mt-5 text-danger" >Odpovědět na inzerát může jen přihlášený uživatel.</h4>
        }
    </div>
</div>


